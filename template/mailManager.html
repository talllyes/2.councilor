<div class="row">
    <div class="col-xs-12">
        <div class="x_panel kai-topLine-primary" style="border-bottom-left-radius:0;border-bottom-right-radius:0">
            <div class="x_content">
                <div style="float:left;">
                    <h3>
                        郵件管理　　　
                    </h3>
                </div>               
                <div class="pull-right" style="margin-top:7px;">
                    <button class="btn btn-default" ng-disabled="mailManager.mailSendNow" ng-click="mailManager.mailToSend(0)">寄稽催信給承辦人</button>
                </div>
                <div class="pull-right" style="margin-top:7px;">
                    <button class="btn btn-default"  ng-disabled="mailManager.mailSendNow" ng-click="mailManager.mailToSend(3)">寄逾期案件（3天未辦）</button>
                </div>
                <div class="pull-right" style="margin-top:7px;">
                    <button class="btn btn-default"  ng-disabled="mailManager.mailSendNow" ng-click="mailManager.mailToSend(7)">寄逾期案件（7天未辦）</button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-4" ng-if="mailManager.mailSetBox">
        <div class="x_panel">
            <div class="x_title">
                <h2><i class="fa fa-user"></i>　郵件設定</h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li class="pull-right" ng-show="mailManager.updateMailFlag" ng-click="mailManager.mailSetBox=false">
                        <a><i class="fa fa-close"></i></a>
                    </li>
                    <li ng-show="mailManager.updateMailFlag" class="pull-right" ng-click="mailManager.updateMail('edit')">
                        <a><i class="fa fa-wrench"></i></a>
                    </li>
                    <li ng-hide="mailManager.updateMailFlag" class="pull-right" ng-click="mailManager.updateMail('no')">
                        <a><i class="fa fa-close"></i></a>
                    </li>
                    <li ng-hide="mailManager.updateMailFlag" class="pull-right" ng-click="mailManager.updateMail('ok')">
                        <a ng-show="form.$valid"><i class="fa fa-check"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content font-14px">
                <form name="form" class="form-horizontal">
                    <div id="addUser">
                        <div class="form-group">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                寄件者郵件：
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-12" ng-class="{'has-error':form.email.$error.email}">
                                <span class="kai-addUserSpan" ng-show="mailManager.updateMailFlag">{{mailManager.mailConfig.MailName}}</span>
                                <input type="email" name="email" ng-model="mailManager.mailConfig.MailName" class="form-control" ng-hide="mailManager.updateMailFlag" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                寄件者名稱：
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-12" ng-class="{'has-error':!form.sendName.$valid}">
                                <span class="kai-addUserSpan" ng-show="mailManager.updateMailFlag">{{mailManager.mailConfig.SendName}}</span>
                                <input type="text" name="sendName"  ng-model="mailManager.mailConfig.SendName" class="form-control" ng-hide="mailManager.updateMailFlag" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                主旨：
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-12" ng-class="{'has-error':!form.subject.$valid}">
                                <span class="kai-addUserSpan" ng-show="mailManager.updateMailFlag">{{mailManager.mailConfig.Subject}}</span>
                                <textarea style="line-height:30px;" name="subject" ng-model="mailManager.mailConfig.Subject" class="form-control" rows="2" ng-hide="mailManager.updateMailFlag" required></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                SMTP：
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-12" ng-class="{'has-error':!form.smtp.$valid}">
                                <span class="kai-addUserSpan" ng-show="mailManager.updateMailFlag">{{mailManager.mailConfig.Smtp}}</span>
                                <input type="text" ng-model="mailManager.mailConfig.Smtp" name="smtp" class="form-control" ng-hide="mailManager.updateMailFlag" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                Port：
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-12" ng-class="{'has-error':!form.port.$valid}">
                                <span class="kai-addUserSpan" ng-show="mailManager.updateMailFlag">{{mailManager.mailConfig.Port}}</span>
                                <input type="text" ng-model="mailManager.mailConfig.Port" name="port" class="form-control" ng-hide="mailManager.updateMailFlag" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                帳號：
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-12" ng-class="{'has-error':!form.ids.$valid}">
                                <span class="kai-addUserSpan" ng-show="mailManager.updateMailFlag">{{mailManager.mailConfig.MailID}}</span>
                                <input type="text" ng-model="mailManager.mailConfig.MailID" name="ids" class="form-control" ng-hide="mailManager.updateMailFlag" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                密碼：
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <span class="kai-addUserSpan" ng-show="mailManager.updateMailFlag">●●●●●●●●●●</span>
                                <input type="password" ng-model="mailManager.mailConfig.Password" class="form-control" ng-hide="mailManager.updateMailFlag" placeholder="空白為不更改">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-8" ng-if="mailManager.mailSet1">
        <div class="x_panel">
            <div class="x_title">
                <h2>
                    <i class="fa fa-sort-numeric-asc"></i>　未辦理寄信設定：3天

                </h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li class="pull-right" ng-click="mailManager.mailSet1=false">
                        <a><i class="fa fa-close"></i></a>
                    </li>
                    <li class="pull-right editUser{{councilorList.ZoneID}}" ng-if="zoneManager.nowEditFlag" ng-click="zoneManager.editUser('edit',councilorList.ZoneID,councilorList)">
                        <a><i class="fa fa-pencil"></i></a>
                    </li>
                    <li class="pull-right kai-display editUserC{{councilorList.ZoneID}}" ng-click="zoneManager.editUser('no',councilorList.ZoneID,councilorList)">
                        <a><i class="fa fa-close"></i></a>
                    </li>
                    <li class="pull-right kai-display editUserC{{councilorList.ZoneID}}" ng-click="zoneManager.editUser('ok',councilorList.ZoneID,councilorList)">
                        <a><i class="fa fa-check"></i></a>
                    </li>
                    <li class="pull-right kai-display editUserC{{councilorList.ZoneID}}" ng-if="councilorList.HaveCase" ng-click="zoneManager.editUser('delete',councilorList.UserLoginID,councilorList)">
                        <a><i class="fa fa-trash"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content font-14px">
                <div class="col-md-5 col-xs-12">
                    <select name="cars" multiple style="width:100%;height:135px;"
                            ng-options="noSendList.UserName for noSendList in mailManager.noSendList[0] track by noSendList.UserLoginID"
                            ng-model="mailManager.selectNoSend[0]"></select>
                </div>
                <div class="col-md-2 col-xs-12">
                    <button class="btn btn-default" style="width:100%;margin-top:5px;" ng-click="mailManager.insertSend(0)" ng-disabled="mailManager.updateSendMailFlag">新增→</button>
                    <button class="btn btn-default" style="width:100%;" ng-click="mailManager.deleteSend(0)" ng-disabled="mailManager.updateSendMailFlag">←刪除</button>
                </div>
                <div class="col-md-5 col-xs-12">
                    <select name="cars" multiple style="width:100%;height:135px;"
                            ng-options="yesSendList.UserName for yesSendList in mailManager.yesSendList[0] track by yesSendList.UserLoginID"
                            ng-model="mailManager.selectYesSend[0]"></select>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-8" ng-if="mailManager.mailSet2">
        <div class="x_panel">
            <div class="x_title">
                <h2>
                    <i class="fa fa-sort-numeric-asc"></i>　未辦理寄信設定：7天
                </h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li class="pull-right" ng-click="mailManager.mailSet2=false">
                        <a><i class="fa fa-close"></i></a>
                    </li>
                    <li class="pull-right editUser{{councilorList.ZoneID}}" ng-if="zoneManager.nowEditFlag" ng-click="zoneManager.editUser('edit',councilorList.ZoneID,councilorList)">
                        <a><i class="fa fa-pencil"></i></a>
                    </li>
                    <li class="pull-right kai-display editUserC{{councilorList.ZoneID}}" ng-click="zoneManager.editUser('no',councilorList.ZoneID,councilorList)">
                        <a><i class="fa fa-close"></i></a>
                    </li>
                    <li class="pull-right kai-display editUserC{{councilorList.ZoneID}}" ng-click="zoneManager.editUser('ok',councilorList.ZoneID,councilorList)">
                        <a><i class="fa fa-check"></i></a>
                    </li>
                    <li class="pull-right kai-display editUserC{{councilorList.ZoneID}}" ng-if="councilorList.HaveCase" ng-click="zoneManager.editUser('delete',councilorList.UserLoginID,councilorList)">
                        <a><i class="fa fa-trash"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content font-14px">
                <div class="col-md-5 col-xs-12">
                    <select name="cars" multiple style="width:100%;height:135px;"
                            ng-options="noSendList.UserName for noSendList in mailManager.noSendList[1] track by noSendList.UserLoginID"
                            ng-model="mailManager.selectNoSend[1]"></select>
                </div>
                <div class="col-md-2 col-xs-12">
                    <button class="btn btn-default" style="width:100%;margin-top:5px;" ng-click="mailManager.insertSend(1)" ng-disabled="mailManager.updateSendMailFlag">新增→</button>
                    <button class="btn btn-default" style="width:100%;" ng-click="mailManager.deleteSend(1)" ng-disabled="mailManager.updateSendMailFlag">←刪除</button>
                </div>
                <div class="col-md-5 col-xs-12">
                    <select name="cars" multiple style="width:100%;height:135px;"
                            ng-options="yesSendList.UserName for yesSendList in mailManager.yesSendList[1] track by yesSendList.UserLoginID"
                            ng-model="mailManager.selectYesSend[1]"></select>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="caseListItem" style="padding:10px;">
    <div style="width:100%;text-align:center;" class="caseListItem hidden-xs" ng-show="mailManager.myPage.pageShow">
        <uib-pagination total-items="mailManager.myPage.totalItems.length"
                        ng-model="mailManager.myPage.currentPage"
                        items-per-page="mailManager.myPage.itemsPerPage"
                        max-size="mailManager.myPage.maxSize"
                        class="pagination-lg"
                        boundary-links="true"
                        previous-text="上一頁"
                        next-text="下一頁"
                        first-text="<<"
                        last-text=">>">
        </uib-pagination>
    </div>
</div>
<div class="table-responsive">
    <div style="min-width:1500px">
        <table class="table table-striped table-bordered table-hover font-16px caseListItem" style="background-color:white;" id="caseListTable">
            <thead>
                <tr class="kai-hand">
                    <th style="width:125px;min-width:125px;max-width:125px;">
                        寄信日期
                    </th>
                    <th style="min-width:150px;width:150px;max-width:150px;">
                        類型
                    </th>
                    <th style="min-width:225px;width:225px;max-width:225px;">
                        寄信對象
                    </th>
                    <th >
                        寄信內容
                    </th>
                    <th style="min-width:150px;width:150px;max-width:150px;" >
                        寄信訊息
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-class-odd="'kai-bgblue'" ng-class-even="'kai-bgwhite'" ng-repeat="nowList in mailManager.myPage.nowList">
                    <td >{{nowList.SendDate}}</td>
                    <td class="kai-textOver">{{nowList.Type|mailType}}</td>
                    <td >{{nowList.SendTo}}</td>
                    <td ng-bind-html="nowList.SendContent"></td>
                    <td style="vertical-align:middle;">{{nowList.SendMessage}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
